<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Web site created using create-react-app" />
  <title>RRSS by Santiago</title>
</head>

<body>
  <noscript>You need to enable JavaScript to run this app.</noscript>
  <div id="root"></div>
  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-app.js%22%3E">
    { " " }
  </script>
  <script src="https://www.gstatic.com/firebasejs/7.7.0/firebase-storage.js%22%3E"></script>
  <script>

    const firebaseConfig = {
      apiKey: "AIzaSyBDajFPJQP1fOh-Mv-pF54pMeV8bmHfLUg",

      authDomain: "coders2023-finalproject.firebaseapp.com",

      projectId: "coders2023-finalproject",

      storageBucket: "coders2023-finalproject.appspot.com",

      messagingSenderId: "1014248134970",

      appId: "1:1014248134970:web:ab0fafe010598e137b9803",
    };

    firebase.initializeApp(firebaseConfig);
    console.log(firebase);
    function uploadImage() {
      const ref = firebase.storage().ref();
      const file = document.querySelector("#photo").files[0];
      const name = +new Date() + "-" + file.name;
      const metadata = {
        contentType: file.type,
      };
      const task = ref.child(name).put(file, metadata);
      task
        .then((snapshot) => snapshot.ref.getDownloadURL())
        .then((url) => {
          console.log(url);
          alert("image uploaded successfully");
          document.querySelector("#image").src = url;
        })
        .catch(console.error);
    }
    const errorMsgElement = document.querySelector("span#errorMsg");

  </script>

</body>

</html>
